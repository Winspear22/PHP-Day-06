{% extends 'base.html.twig' %}

{% block title %}Page de bienvenue{% endblock %}

{% block body %}
<h1>Bienvenue {{ app.user.username }} !</h1>

<p>Voici la liste des posts disponibles :</p>

<a href="{{ path('e03_post_new') }}" class="btn btn-primary mb-3">Créer un nouveau post</a>

{% if posts|length > 0 %}
    <ul class="list-unstyled">
        {% for post in posts %}
            <li class="mb-3">
                <a href="{{ path('e03_post_show', { id: post.id }) }}">
                    <strong>{{ post.title }}</strong>
                </a><br>
                <small>
                    par {{ post.author.username }},
                    le {{ post.created|date('d/m/Y H:i') }}
                </small>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>Aucun post pour le moment.</p>
{% endif %}

<a href="{{ path('e03_sign_out') }}" class="btn btn-danger mt-4">Se déconnecter</a>
{% endblock %}
